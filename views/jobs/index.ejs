<div class="container main-body">
  <hr>
  <h1 class="personal-info">Your job offers</h1>
  <div class="d-none d-lg-block">
    <% if(jobs.length > 0) { %>
    <div class="card-container">
      <div class="row row-cols-1 row-cols-md-2 g-4">
          <% jobs.forEach(job=> { %>
            <%- include('card.ejs', {title: job.job_title, company: job.company_name, description: job.description,
              location: job.location, salary: job.salary, id: job._id}); %>
          <% }); %>
      </div>
    </div>
    <% } else { %>
    <p class="h4 mb-4">You haven't added any jobs yet!</p>
    <a href="<%=`/user/${user._id}/add-job` %>" class="btn btn-outline-primary mr-2"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-plus" viewBox="1 1 16 16">
      <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
    </svg> Add job</a>
    <%} %>
  </div>
  <div class="d-block d-lg-none">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
      <% for (let i=0; i < jobs.length; i++) { let activeCard=true; if(i==0){activeCard=true} else{activeCard=false} %>
        <%- include('carousel.ejs', {active:activeCard, title: jobs[i].job_title, company: jobs[i].company_name,
          description: jobs[i].description, location: jobs[i].location, salary: jobs[i].salary, id: jobs[i]._id}); %>
      <% } %>
      </div>

      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
</div>